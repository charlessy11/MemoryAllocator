## Test 05: Basic Worst Fit [1 pts]

```

output=$( \
    ALLOCATOR_ALGORITHM=worst_fit \
    tests/progs/allocations-1)
../../allocator.c:193:worst_fit(): 	---- WORST_FIT() ----
../../allocator.c:52:split_block(): --Splitting blocks--
../../allocator.c:63:split_block(): New Size = 3896
../../allocator.c:73:split_block(): Block/Header Size = 108
../../allocator.c:74:split_block(): Block Size Being Split = 200
../../allocator.c:75:split_block(): New Size of First Block AFTER Split = 200
../../allocator.c:76:split_block(): New Size of Second Block AFTER Split = 3896
../../allocator.c:94:split_block(): Block/Header Size = 108
../../allocator.c:95:split_block(): New Size of Block = 200
../../allocator.c:96:split_block(): New Size of Second New Block = 3896
../../allocator.c:97:split_block(): SUCCESS! Able to split blocks!
../../allocator.c:193:worst_fit(): 	---- WORST_FIT() ----
../../allocator.c:52:split_block(): --Splitting blocks--
../../allocator.c:63:split_block(): New Size = 3696
../../allocator.c:73:split_block(): Block/Header Size = 108
../../allocator.c:74:split_block(): Block Size Being Split = 200
../../allocator.c:75:split_block(): New Size of First Block AFTER Split = 200
../../allocator.c:76:split_block(): New Size of Second Block AFTER Split = 3696
../../allocator.c:94:split_block(): Block/Header Size = 108
../../allocator.c:95:split_block(): New Size of Block = 200
../../allocator.c:96:split_block(): New Size of Second New Block = 3696
../../allocator.c:97:split_block(): SUCCESS! Able to split blocks!
../../allocator.c:193:worst_fit(): 	---- WORST_FIT() ----
../../allocator.c:52:split_block(): --Splitting blocks--
../../allocator.c:63:split_block(): New Size = 3496
../../allocator.c:73:split_block(): Block/Header Size = 108
../../allocator.c:74:split_block(): Block Size Being Split = 200
../../allocator.c:75:split_block(): New Size of First Block AFTER Split = 200
../../allocator.c:76:split_block(): New Size of Second Block AFTER Split = 3496
../../allocator.c:94:split_block(): Block/Header Size = 108
../../allocator.c:95:split_block(): New Size of Block = 200
../../allocator.c:96:split_block(): New Size of Second New Block = 3496
../../allocator.c:97:split_block(): SUCCESS! Able to split blocks!
../../allocator.c:193:worst_fit(): 	---- WORST_FIT() ----
../../allocator.c:52:split_block(): --Splitting blocks--
../../allocator.c:63:split_block(): New Size = 3384
../../allocator.c:73:split_block(): Block/Header Size = 108
../../allocator.c:74:split_block(): Block Size Being Split = 112
../../allocator.c:75:split_block(): New Size of First Block AFTER Split = 112
../../allocator.c:76:split_block(): New Size of Second Block AFTER Split = 3384
../../allocator.c:94:split_block(): Block/Header Size = 108
../../allocator.c:95:split_block(): New Size of Block = 112
../../allocator.c:96:split_block(): New Size of Second New Block = 3384
../../allocator.c:97:split_block(): SUCCESS! Able to split blocks!
../../allocator.c:193:worst_fit(): 	---- WORST_FIT() ----
../../allocator.c:52:split_block(): --Splitting blocks--
../../allocator.c:63:split_block(): New Size = 3184
../../allocator.c:73:split_block(): Block/Header Size = 108
../../allocator.c:74:split_block(): Block Size Being Split = 200
../../allocator.c:75:split_block(): New Size of First Block AFTER Split = 200
../../allocator.c:76:split_block(): New Size of Second Block AFTER Split = 3184
../../allocator.c:94:split_block(): Block/Header Size = 108
../../allocator.c:95:split_block(): New Size of Block = 200
../../allocator.c:96:split_block(): New Size of Second New Block = 3184
../../allocator.c:97:split_block(): SUCCESS! Able to split blocks!
../../allocator.c:193:worst_fit(): 	---- WORST_FIT() ----
../../allocator.c:52:split_block(): --Splitting blocks--
../../allocator.c:63:split_block(): New Size = 2984
../../allocator.c:73:split_block(): Block/Header Size = 108
../../allocator.c:74:split_block(): Block Size Being Split = 200
../../allocator.c:75:split_block(): New Size of First Block AFTER Split = 200
../../allocator.c:76:split_block(): New Size of Second Block AFTER Split = 2984
../../allocator.c:94:split_block(): Block/Header Size = 108
../../allocator.c:95:split_block(): New Size of Block = 200
../../allocator.c:96:split_block(): New Size of Second New Block = 2984
../../allocator.c:97:split_block(): SUCCESS! Able to split blocks!
../../allocator.c:193:worst_fit(): 	---- WORST_FIT() ----
../../allocator.c:52:split_block(): --Splitting blocks--
../../allocator.c:63:split_block(): New Size = 2872
../../allocator.c:73:split_block(): Block/Header Size = 108
../../allocator.c:74:split_block(): Block Size Being Split = 112
../../allocator.c:75:split_block(): New Size of First Block AFTER Split = 112
../../allocator.c:76:split_block(): New Size of Second Block AFTER Split = 2872
../../allocator.c:94:split_block(): Block/Header Size = 108
../../allocator.c:95:split_block(): New Size of Block = 112
../../allocator.c:96:split_block(): New Size of Second New Block = 2872
../../allocator.c:97:split_block(): SUCCESS! Able to split blocks!
../../allocator.c:193:worst_fit(): 	---- WORST_FIT() ----
../../allocator.c:52:split_block(): --Splitting blocks--
../../allocator.c:63:split_block(): New Size = 3992
../../allocator.c:73:split_block(): Block/Header Size = 108
../../allocator.c:74:split_block(): Block Size Being Split = 4200
../../allocator.c:75:split_block(): New Size of First Block AFTER Split = 4200
../../allocator.c:76:split_block(): New Size of Second Block AFTER Split = 3992
../../allocator.c:94:split_block(): Block/Header Size = 108
../../allocator.c:95:split_block(): New Size of Block = 4200
../../allocator.c:96:split_block(): New Size of Second New Block = 3992
../../allocator.c:97:split_block(): SUCCESS! Able to split blocks!

echo "${output}"
-- Current Memory State --
[REGION 0] 0x7f880993c000
  [BLOCK] 0x7f880993c000-0x7f880993c0c8 'Test Allocation: 0' 200 [USED]
  [BLOCK] 0x7f880993c0c8-0x7f880993c190 'Test Allocation: 1' 200 [FREE]
  [BLOCK] 0x7f880993c190-0x7f880993c258 'Test Allocation: 2' 200 [USED]
  [BLOCK] 0x7f880993c258-0x7f880993c2c8 'Test Allocation: 3' 112 [FREE]
  [BLOCK] 0x7f880993c2c8-0x7f880993c390 'Test Allocation: 4' 200 [USED]
  [BLOCK] 0x7f880993c390-0x7f880993c458 'Test Allocation: 5' 200 [USED]
  [BLOCK] 0x7f880993c458-0x7f880993c4c8 'Test Allocation: 6' 112 [USED]
  [BLOCK] 0x7f880993c4c8-0x7f880993d000 '' 2872 [FREE]
[REGION 1] 0x7f880990a000
  [BLOCK] 0x7f880990a000-0x7f880990b068 'Allocation 1' 4200 [USED]
  [BLOCK] 0x7f880990b068-0x7f880990c000 '' 3992 [FREE]

# Get the block ordering from the output. We ignore unnamed allocations.
block_order=$(grep 'Test Allocation:' <<< "${output}" \
    | sed "s/.*'Test Allocation: \([0-9]*\)'.*/Test Allocation: \1/g")

# Get the number of regions:
regions=$(grep '\[REGION [0-9]*\]' <<< "${output}" | wc -l)
if [[ ${regions} -ge 3 ]]; then
    # There were too many regions in the output!
    # Maximum allowed: 3
    test_end 1
fi

compare <(echo "${expected_order}") <(echo "${block_order}") || test_end

Expected Program Output                        | Actual Program Output
-----------------------------------------------V----------------------------------------------
Test Allocation: 0                               Test Allocation: 0
Test Allocation: 1                               Test Allocation: 1
Test Allocation: 2                               Test Allocation: 2
Test Allocation: 3                               Test Allocation: 3
Test Allocation: 4                               Test Allocation: 4
Test Allocation: 5                               Test Allocation: 5
Test Allocation: 6                               Test Allocation: 6
-----------------------------------------------^----------------------------------------------
 --> OK

test_end
```

